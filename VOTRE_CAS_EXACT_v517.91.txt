â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  ğŸ¯ VOTRE CAS EXACT - ANALYSE DU PROBLÃˆME
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Š SITUATION
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Vous avez observÃ© :
  Solde AVANT la course  : 103,400 CDF
  Prix de la course      : 22,000 CDF
  Solde APRÃˆS la course  : 144,100 CDF
  DiffÃ©rence             : +40,700 CDF

ğŸ“ CALCUL ATTENDU (CORRECT)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Prix de la course        : 22,000 CDF
Commission SmartCabb 15% : 22,000 Ã— 0.15 = 3,300 CDF
Gain net conducteur      : 22,000 - 3,300 = 18,700 CDF
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Solde AVANT              : 103,400 CDF
Gain net ajoutÃ©          : +18,700 CDF
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Nouveau solde ATTENDU    : 122,100 CDF  âœ…

ğŸ“Š CALCUL OBSERVÃ‰ (BUGGÃ‰)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Solde AVANT              : 103,400 CDF
Gain ajoutÃ© (bug)        : +40,700 CDF
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Nouveau solde AFFICHÃ‰    : 144,100 CDF  âŒ

ğŸ” DIFFÃ‰RENCE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Attendu  : 122,100 CDF
AffichÃ©  : 144,100 CDF
Ã‰cart    : +22,000 CDF (exactement le prix brut de la course!)

ğŸ¯ DIAGNOSTIC
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Le systÃ¨me ajoutait le gain DEUX FOIS avec des montants diffÃ©rents :
  1Ã¨re addition : 22,000 CDF (prix brut, sans commission)
  2Ã¨me addition : 18,700 CDF (prix net, aprÃ¨s commission)
  Total ajoutÃ©  : 40,700 CDF au lieu de 18,700 CDF

Preuve :
  103,400 + 22,000 + 18,700 = 144,100 CDF âœ… (ce que vous voyez)

âœ… CORRECTION v517.91
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
DÃ©sormais, le gain est ajoutÃ© UNE SEULE FOIS :
  103,400 + 18,700 = 122,100 CDF âœ…

ğŸ§ª TEST APRÃˆS DÃ‰PLOIEMENT
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Refaites une course de 22,000 CDF et vÃ©rifiez :

SI le nouveau solde = Ancien solde + 18,700 CDF :
  âœ… BUG CORRIGÃ‰ !

SI le nouveau solde = Ancien solde + 22,000 CDF :
  âŒ Bug partiellement corrigÃ© (commission non appliquÃ©e)

SI le nouveau solde = Ancien solde + 40,700 CDF :
  âŒ Bug toujours prÃ©sent (double addition)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

RÃ©sumÃ© en 1 ligne :
  144,100 - 103,400 = 40,700 ajoutÃ©s (au lieu de 18,700)
  â†’ Gain ajoutÃ© en double (22,000 + 18,700)
  â†’ v517.91 corrige en ajoutant UNE fois (18,700)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
